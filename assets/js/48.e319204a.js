(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{527:function(a,n,v){"use strict";v.r(n);var e=v(4),_=Object(e.a)({},(function(){var a=this,n=a.$createElement,v=a._self._c||n;return v("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[v("h2",{attrs:{id:"写在前面"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#写在前面"}},[a._v("#")]),a._v(" 写在前面")]),a._v(" "),v("p",[a._v("  最近实习没啥工作，趁这段时间复习一下 python，之前学的 python 都断断续续的，而且中间夹杂了很多框架的 api，对 python 原生以及一些基础库不是很熟悉，还有一部分原因是写 python 的时候比较少，大多数时候是写项目的时候会用一点，如果能尝试用 python 刷题的话，那肯定熟悉得更快（试过，很痛苦...）。这里主要记录下与数据分析相关的基础模块，就是 Numpy, Pandas, Matplotlib。其中借鉴了网上很多博客，本篇先来 Numpy！")]),a._v(" "),v("h2",{attrs:{id:"numpy"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#numpy"}},[a._v("#")]),a._v(" Numpy")]),a._v(" "),v("p",[a._v("  Numpy 是科学计算库,是一个强大的 N 维数组对象 ndarray，是广播功能函数。其整合 C/C++.fortran 代码的工具 ，更是 Scipy、Pandas 等的基础。"),v("br"),a._v(" "),v("strong",[a._v("ndarray 基本属性")])]),a._v(" "),v("ul",[v("li",[a._v(".ndim ：维度\n-.shape ：各维度的尺度 （2，5）")]),a._v(" "),v("li",[a._v(".size ：元素的个数 10")]),a._v(" "),v("li",[a._v(".dtype ：元素的类型 dtype(‘int32’)")]),a._v(" "),v("li",[a._v(".itemsize ：每个元素的大小，以字节为单位 ，每个元素占 4 个字节")])]),a._v(" "),v("p",[v("strong",[a._v("ndarray 数组的创建")])]),a._v(" "),v("ul",[v("li",[a._v("np.arange(n); 元素从 0 到 n-1 ndarray 类型")]),a._v(" "),v("li",[a._v("np.arange(start,end,step);")]),a._v(" "),v("li",[a._v("np.ones(shape);生成 shape 类型的全 1 数组")]),a._v(" "),v("li",[a._v("np.zeros(shape,dtype = np.int32); int32 型的全 0")]),a._v(" "),v("li",[a._v("np.full(shape,val); 全为 val")]),a._v(" "),v("li",[a._v("np.eye(n); 单位矩阵")]),a._v(" "),v("li",[a._v("np.ones_like(a); 按数组 a 的形状（维度）生成全为 1 的数组")]),a._v(" "),v("li",[a._v("np.zeros_like(a); 同理")]),a._v(" "),v("li",[a._v("np.full_like (a, val); 同理")]),a._v(" "),v("li",[a._v("np.linspace(start,end,num,endpoint...);根据起止数据等间距地生成数组,endpoint 表示 end 是否作为生成的元素。\neg.."),v("br"),a._v("\nnp.linspace（1,10,4） [1,4,7,10]"),v("br"),a._v("\nnp.linspace（1,10,4, endpoint = False）[1. 3.25 5.5 7.75]")]),a._v(" "),v("li",[a._v("np.concatenate(arrays... , axis):拼接数组，axis=0 时按列拼接（列不变，行增加），axis=1 时按行拼接（行不变，列增加）")])]),a._v(" "),v("p",[v("strong",[a._v("ndarray 数组的维度变换")])]),a._v(" "),v("ul",[v("li",[a._v(".reshape(shape) : 不改变当前数组，依 shape 生成")]),a._v(" "),v("li",[a._v(".resize(shape) : 改变当前数组，依 shape 生成")]),a._v(" "),v("li",[a._v(".swapaxes(ax1, ax2) : 将两个维度调换"),v("br"),a._v("\nax1 与 ax2 代表两个维度，从 0 开始。\n如一个二维数组，a.swapaxes(0,1)相当于转置，a.T 或者 a.transpose()")]),a._v(" "),v("li",[a._v(".transpose(axis...)：不带参数时相当于转置，带了参数相当于各个维度对应的转换，如一个三维数组 a，a.transpose(2,1,0)，相当于第二个维度转为第 0 个维度，第一个维度不变，第 0 个维度转化为第二个维度")]),a._v(" "),v("li",[a._v(".flatten() : 对数组进行降维，返回折叠后的一位数组")])]),a._v(" "),v("p",[v("strong",[a._v("数组的类型变换")])]),a._v(" "),v("ul",[v("li",[a._v("数据类型的转换 ：a.astype(new_type) : eg, a.astype (np.float)")]),a._v(" "),v("li",[a._v("数组向列表的转换： a.tolist()")]),a._v(" "),v("li",[a._v("数组的索引和切片\n"),v("blockquote",[v("p",[a._v("一维数组切片： a[起始编号：终止编号（不含）： 步长]"),v("br"),a._v("\n多维数组索引: a[1, 2, 3] 表示 3 个维度上的编号， 各个维度的编号用逗号分隔。"),v("br"),a._v("\n多维数组切片: a [：，：，：：2 ] 缺省时，表示从第 0 个元素开始，到最后一个元素")])])])]),a._v(" "),v("p",[v("strong",[a._v("数组的运算")])]),a._v(" "),v("ul",[v("li",[a._v("np.abs(a) np.fabs(a) : 取各元素的绝对值")]),a._v(" "),v("li",[a._v("np.sqrt(a) : 计算各元素的平方根")]),a._v(" "),v("li",[a._v("np.square(a): 计算各元素的平方")]),a._v(" "),v("li",[a._v("np.log(a) np.log10(a) np.log2(a) : 计算各元素的自然对数、10、2 为底的对数")]),a._v(" "),v("li",[a._v("np.ceil(a) np.floor(a) : 计算各元素的 ceiling 值， floor 值（ceiling 向上取整，floor 向下取整）")]),a._v(" "),v("li",[a._v("np.rint(a) :返回与其最近的哪一个整数，也是四舍五入，注意，0.5 的时候会有问题， 4.5 的结果是 4")]),a._v(" "),v("li",[a._v("np.round(a):各元素 四舍五入，注意，0.5 的时候会有问题， 4.5 的结果是 4")]),a._v(" "),v("li",[a._v("np.modf(a) : 将数组各元素的小数和整数部分以两个独立数组形式返回，将每个元素的小数和整数分开，5.6 会拆成 5. 和 .6")]),a._v(" "),v("li",[a._v("np.exp(a) : 计算各元素的指数值")]),a._v(" "),v("li",[a._v("np.sign(a) : 计算各元素的符号值 1（+），0，-1（-）")]),a._v(" "),v("li",[a._v("np.maximum(a, b) np.fmax() : 比较（或者计算）元素级的最大值")]),a._v(" "),v("li",[a._v("np.minimum(a, b) np.fmin() : 取最小值")]),a._v(" "),v("li",[a._v("np.mod(a, b) : a 中所有元素对 b 取模")]),a._v(" "),v("li",[a._v("np.copysign(a, b) : 将 b 中各元素的符号赋值给数组 a 的对应元素")])]),a._v(" "),v("p",[v("strong",[a._v("数据的 CSV 文件存取")]),a._v("（CSV (Comma-Separated Value,逗号分隔值) 只能存储一维和二维数组）")]),a._v(" "),v("ul",[v("li",[a._v("np.savetxt(frame, array, fmt=’% .18e’, delimiter = None): frame 是文件、字符串等，可以是.gz .bz2 的压缩文件； array 表示存入的数组； fmt 表示元素的格式 eg： %d % .2f % .18e ; delimiter： 分割字符串，默认是空格\neg： np.savetxt(‘a.csv’, a, fmt=%d, delimiter = ‘,’ )")]),a._v(" "),v("li",[a._v("np.loadtxt(frame, dtype=np.float, delimiter = None, unpack = False) : frame 是文件、字符串等，可以是.gz .bz2 的压缩文件； dtype：数据类型，读取的数据以此类型存储； delimiter: 分割字符串，默认是空格; unpack: 如果为 True， 读入属性将分别写入不同变量。"),v("br"),a._v(" "),v("strong",[a._v("多维数据的存取")])]),a._v(" "),v("li",[a._v("a.tofile(frame, sep=’’, format=’%s’ ) : frame: 文件、字符串； sep: 数据分割字符串，如果是空串，写入文件为二进制 ； format: 写入数据的格式\neg: a = np.arange(100).reshape(5, 10, 2)\na.tofile(“b.dat”, sep=”,”, format=’%d’)")]),a._v(" "),v("li",[a._v("np.fromfile(frame, dtype = float, count=-1, sep=’’)： frame： 文件、字符串 ； dtype： 读取的数据以此类型存储； count：读入元素个数， -1 表示读入整个文件； sep: 数据分割字符串，如果是空串，写入文件为二进制"),v("br"),a._v("\nPS: a.tofile() 和 np.fromfile（）要配合使用，要知道数据的类型和维度。因为它存的时候都会将数据降维，你取出来就是一个一维数组，你需要再 reshape 相应的维度，而且取数的时候还要指定数据类型")]),a._v(" "),v("li",[a._v("np.save(frame, array) : frame: 文件名，以.npy 为扩展名，压缩扩展名为.npz ； array 为数组变量")]),a._v(" "),v("li",[a._v("np.load(fname) : frame: 文件名，以.npy 为扩展名"),v("br"),a._v("\nnp.save() 和 np.load() 使用时，不用自己考虑数据类型和维度。")])]),a._v(" "),v("p",[v("strong",[a._v("numpy 随机数函数")]),v("br"),a._v("\n      numpy.random")]),a._v(" "),v("ul",[v("li",[a._v("rand(d0, d1, …,dn) : 各元素是[0, 1）的浮点数，服从均匀分布")]),a._v(" "),v("li",[a._v("randn(d0, d1, …,dn)：标准正态分布")]),a._v(" "),v("li",[a._v("randint(low， high,（ shape）): 依 shape 创建随机整数或整数数组，范围是[ low, high）")]),a._v(" "),v("li",[a._v("seed(s) ： 随机数种子")]),a._v(" "),v("li",[a._v("shuffle(a) : 根据数组 a 的第一轴（维度）进行随机排列，改变数组 a")]),a._v(" "),v("li",[a._v("permutation(a) : 根据数组 a 的第一轴（维度）进行随机排列， 但是不改变原数组，将生成新数组")]),a._v(" "),v("li",[a._v("choice(a[, size, replace, p]) : 从一维数组 a 中以概率 p 抽取元素， 形成 size 形状新数组，replace 表示是否可以重用元素，默认为 False。")]),a._v(" "),v("li",[a._v("uniform(low, high, size) : 产生均匀分布的数组，起始值为 low，high 为结束值，size 为形状")]),a._v(" "),v("li",[a._v("normal(loc, scale, size) : 产生正态分布的数组， loc 为均值，scale 为标准差，size 为形状")]),a._v(" "),v("li",[a._v("poisson(lam, size) : 产生泊松分布的数组， lam 随机事件发生概率，size 为形状")])]),a._v(" "),v("p",[v("strong",[a._v("numpy 的统计函数")])]),a._v(" "),v("ul",[v("li",[a._v("sum(a, axis = None) : 依给定轴 axis 计算数组 a 相关元素之和，axis 为整数或者元组,axis 表示第几个维度，如 axis=0，表示对行求和，就是所有行中的对应元素求和。")]),a._v(" "),v("li",[a._v("mean(a, axis = None) : 同理，计算平均值")]),a._v(" "),v("li",[a._v("average(a, axis =None, weights=None) : 依给定轴 axis 计算数组 a 相关元素的加权平均值")]),a._v(" "),v("li",[a._v("std（a, axis = None） ：同理，计算标准差")]),a._v(" "),v("li",[a._v("var（a, axis = None）: 计算方差")]),a._v(" "),v("li",[a._v("min(a) max(a) : 计算数组 a 的最小值和最大值")]),a._v(" "),v("li",[a._v("argmin(a) argmax(a) : 计算数组 a 的最小、最大值的下标（注：是一维的下标）")]),a._v(" "),v("li",[a._v("unravel_index(index, shape) : 根据 shape 将一维下标 index 转成多维下标\nPS：在一个多维数组中找一个最大值下标的方法："),v("br"),a._v("\neg：a = ["),v("br"),a._v("\n[15, 14, 13],"),v("br"),a._v("\n[12, 11, 10]"),v("br"),a._v("\n]"),v("br"),a._v("\nnp.argmax(a) –> 0"),v("br"),a._v("\nnp.unravel_index( np.argmax(a), a.shape) –> (0,0)")]),a._v(" "),v("li",[a._v("ptp(a) : 计算数组 a 最大值和最小值的差")]),a._v(" "),v("li",[a._v("median(a) : 计算数组 a 中元素的中位数（中值）")])]),a._v(" "),v("p",[v("strong",[a._v("numpy 的梯度函数")])]),a._v(" "),v("ul",[v("li",[a._v("np.gradient(a) ： 计算数组 a 中元素的梯度，a 为多维时，返回每个维度的梯度 ，这里是离散梯度\n  离散梯度： xy 坐标轴连续三个 x 轴坐标对应的 y 轴值：a, b, c 其中 b 的梯度是（c-a）/2\n而 c 的梯度是： (c-b)/1"),v("br"),a._v("\n  当为二维数组时，np.gradient(a) 得出两个数组，第一个数组对应最外层维度的梯度，第二个数组对应第二层维度的梯度。 就是一个是从行取计算离散梯度，一个是从列计算梯度。")])]),a._v(" "),v("p",[v("strong",[a._v("图像的表示和变换")]),v("br"),a._v("\nPIL,python image library 库"),v("br"),a._v("\nfrom PIL import Image   Image 是 PIL 库中代表一个图像的类（对象）")]),a._v(" "),v("ul",[v("li",[v("p",[a._v("im = np.array(Image.open(“.jpg”)) #读取")])]),a._v(" "),v("li",[v("p",[a._v("im = Image.fromarray(b.astype(‘uint8’)) # 生成")])]),a._v(" "),v("li",[v("p",[a._v("im.save(“路径.jpg”) # 保存")])]),a._v(" "),v("li",[v("p",[a._v("im = np.array(Image.open(“.jpg”).convert(‘L’)) # convert(‘L’)表示转为灰度图")])])])])}),[],!1,null,null,null);n.default=_.exports}}]);